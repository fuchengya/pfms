webpackJsonp([11],{GW7j:function(e,t){},"T+/8":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("lbHh"),o=s.n(r),n="supportKey";function i(e){return o.a.set(n,e,{expires:3})}function a(e,t,s){return o.a.set(e,t,{expires:s})}function l(e){return o.a.get(e)}var p=s("hNpR"),c=s.n(p),d=s("M9A7"),g={name:"login",data:function(){return{loginForm:{username:"",password:""},registerForm:{username:"",password:"",confirmPassword:""},loginRules:{username:[{required:!0,trigger:"blur",validator:function(e,t,s){t.trim().length>=3?s():s(new Error("请输入正确的用户名"))}}],password:[{required:!0,trigger:"blur",validator:function(e,t,s){t.length<3?s(new Error("密码不能小于3位")):s()}}]},loading:!1,regLoading:!1,pwdType:"password",regPwdType:"password",regConfirmPwdType:"password",login_center_bg:c.a,dialogVisible:!1,supportDialogVisible:!1,type:"login",typedText:"",originalText:"金钱，更好地管理，更好地生活。",typingSpeed:200,currentIndex:0}},created:function(){this.loginForm.username=l("username"),this.loginForm.password=l("password"),void 0!==this.loginForm.username&&null!=this.loginForm.username&&""!==this.loginForm.username||(this.loginForm.username=""),void 0!==this.loginForm.password&&null!=this.loginForm.password||(this.loginForm.password="")},methods:{showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},showRegPwd:function(){"password"===this.regPwdType?this.regPwdType="":this.regPwdType="password"},showConfirmPwd:function(){"password"===this.regConfirmPwdType?this.regConfirmPwdType="":this.regConfirmPwdType="password"},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){if(!t)return console.log("参数验证不合法！"),!1;e.loading=!0,e.$store.dispatch("Login",e.loginForm).then(function(){e.loading=!1,a("username",e.loginForm.username,15),a("password",e.loginForm.password,15),e.$router.push({path:"/"})}).catch(function(){e.loading=!1})})},handleRegister:function(){var e=this;this.$refs.registerForm.validate(function(t){return t?(e.regLoading=!0,e.registerForm.password!==e.registerForm.confirmPassword?(e.$message({message:"两次输入密码不一致！",type:"error"}),e.regLoading=!1,!1):void Object(d.b)(e.registerForm).then(function(t){e.$message({message:"注册成功！",type:"success"}),e.type="login",e.loginForm.username=e.registerForm.username,e.regLoading=!1})):(console.log("参数验证不合法！"),!1)})},handleToLogin:function(){this.type="login"},handleToRegister:function(){this.type="register"},handleTry:function(){this.dialogVisible=!0},dialogConfirm:function(){this.dialogVisible=!1,i(!0)},dialogCancel:function(){this.dialogVisible=!1,i(!1)},typeText:function(){this.currentIndex<this.originalText.length&&(this.typedText+=this.originalText.charAt(this.currentIndex),this.currentIndex++,setTimeout(this.typeText,this.typingSpeed))}},mounted:function(){this.typeText()}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-container"},[s("div",{staticClass:"typing-text",domProps:{innerHTML:e._s(e.typedText)}}),e._v(" "),s("el-card",{staticClass:"login-form-layout"},["login"==e.type?s("el-form",{ref:"loginForm",attrs:{autoComplete:"on",model:e.loginForm,rules:e.loginRules,"label-position":"left"}},[s("div",{staticStyle:{"text-align":"center"}},[s("svg-icon",{staticStyle:{width:"56px",height:"56px",color:"#409eff"},attrs:{"icon-class":"login-mall"}})],1),e._v(" "),s("h2",{staticClass:"login-title color-main"},[e._v("PFMS 登录")]),e._v(" "),s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{name:"username",type:"text",autoComplete:"on",placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[s("span",{attrs:{slot:"prefix"},slot:"prefix"},[s("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"user"}})],1)])],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{name:"password",type:e.pwdType,autoComplete:"on",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[s("span",{attrs:{slot:"prefix"},slot:"prefix"},[s("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"password"}})],1),e._v(" "),s("span",{attrs:{slot:"suffix"},on:{click:e.showPwd},slot:"suffix"},[s("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"eye"}})],1)])],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-bottom":"60px","text-align":"center"}},[s("el-button",{staticStyle:{width:"45%"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v("\n          登录\n        ")]),e._v(" "),s("el-button",{staticStyle:{width:"45%"},attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleToRegister.apply(null,arguments)}}},[e._v("\n          注册\n        ")])],1)],1):e._e(),e._v(" "),"register"==e.type?s("el-form",{ref:"registerForm",attrs:{autoComplete:"on",model:e.registerForm,rules:e.loginRules,"label-position":"left"}},[s("div",{staticStyle:{"text-align":"center"}},[s("svg-icon",{staticStyle:{width:"56px",height:"56px",color:"#409eff"},attrs:{"icon-class":"login-mall"}})],1),e._v(" "),s("h2",{staticClass:"login-title color-main"},[e._v("PFMS 注册")]),e._v(" "),s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{name:"username",type:"text",autoComplete:"on",placeholder:"请输入用户名"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}},[s("span",{attrs:{slot:"prefix"},slot:"prefix"},[s("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"user"}})],1)])],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{name:"password",type:e.regPwdType,autoComplete:"on",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}},[s("span",{attrs:{slot:"prefix"},slot:"prefix"},[s("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"password"}})],1),e._v(" "),s("span",{attrs:{slot:"suffix"},on:{click:e.showRegPwd},slot:"suffix"},[s("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"eye"}})],1)])],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{name:"password",type:e.regConfirmPwdType,autoComplete:"on",placeholder:"请确认密码"},model:{value:e.registerForm.confirmPassword,callback:function(t){e.$set(e.registerForm,"confirmPassword",t)},expression:"registerForm.confirmPassword"}},[s("span",{attrs:{slot:"prefix"},slot:"prefix"},[s("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"password"}})],1),e._v(" "),s("span",{attrs:{slot:"suffix"},on:{click:e.showConfirmPwd},slot:"suffix"},[s("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"eye"}})],1)])],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-bottom":"60px","text-align":"center"}},[s("el-button",{staticStyle:{width:"45%"},attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleToLogin.apply(null,arguments)}}},[e._v("\n          已有账号去登录\n        ")]),e._v(" "),s("el-button",{staticStyle:{width:"45%"},attrs:{type:"primary",loading:e.regLoading},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister.apply(null,arguments)}}},[e._v("\n          提交注册\n        ")])],1)],1):e._e()],1)],1)},staticRenderFns:[]};var m=s("VU/8")(g,u,!1,function(e){s("GW7j")},"data-v-4c0366dd",null);t.default=m.exports},hNpR:function(e,t,s){e.exports=s.p+"static/img/login_center_bg.5307896.png"}});
//# sourceMappingURL=11.2c8d958d9e86a199e844.js.map